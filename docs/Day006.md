# Day 6: Gamepad and Keyboard Input

- Dynamically loaded the XInput library as controller support is optional and shouldn't prevent the game from starting if it isn't available.
  - This is done by overriding the `XInputGetState` and `XInputSetState` functions with a stub using the preprocessor.
  - A function pointer is defined for each function to which a stub is assigned by default.
  - The `Win32LoadXInput` function is called on startup to load the XInput library.
    - The function pointers for `XInputGetState` and `XInputSetState` get populated with valid function pointers from the XInput DLL, thus overriding the default stub.
    - If the DLL is not available both function pointers will just point to the default stub.

- Added controller input through XInput.
  - After polling the window messages, `XInputGetState` is called on all controllers to query their state.
  - The `XINPUT_STATE` has an `XINPUT_GAMEPAD` struct which contains all controller button states.
  - An example was implemented by changing the `xOffset` and `yOffset` of the gradient using the controller stick.
  - An example using `XInputSetState` was implemented to set the vibration of the controller.

- Keyboard input handled via `WM_SYSKEYDOWN`, `WM_SYSKEYUP`, `WM_KEYDOWN` and `WM_KEYUP` events.
  - `lParam` and `wParam` both contain information about the key state and the virtual key code.
